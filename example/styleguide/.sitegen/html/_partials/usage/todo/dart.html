import &#39;package:mdl&#47;mdl.dart&#39;;


main() &#123;
    final Logger _logger = new Logger(&#39;main.ToDo&#39;);

    registerMdl();
    registerToDoItemComponent();

    componentFactory().run().then((_) &#123;

        final MaterialButton addButton = MaterialButton.widget(dom.querySelector(&quot;#add&quot;));
        final MaterialTextfield item = MaterialTextfield.widget(dom.querySelector(&quot;#item&quot;));
        final ToDoItemComponent items = ToDoItemComponent.widget(dom.querySelector(&quot;#todo&quot;));
        final dom.SpanElement nrofitems = dom.querySelector(&quot;#nrofitems&quot;);

        void _setNrOfItems() &#123;
            nrofitems.text = items.items.length.toString();
        &#125;
        _setNrOfItems();

        addButton.onClick.listen((_) &#123;
            _logger.info(item.value);
            items.addItem(new ToDoItem(false,&quot;Cnt $&#123;items.incrementalIndex&#125; ($&#123;item.value&#125;)&quot;));
            _setNrOfItems();
        &#125;);

        items.onModelChange.listen((_) =&gt; _setNrOfItems());

    &#125;);
&#125;