import &#39;package:mdl&#47;mdl.dart&#39;;


main() {
    final Logger _logger = new Logger(&#39;main.ToDo&#39;);

    registerMdl();
    registerToDoItemComponent();

    componentFactory().run().then((_) {

        final MaterialButton addButton = MaterialButton.widget(dom.querySelector(&quot;#add&quot;));
        final MaterialTextfield item = MaterialTextfield.widget(dom.querySelector(&quot;#item&quot;));
        final ToDoItemComponent items = ToDoItemComponent.widget(dom.querySelector(&quot;#todo&quot;));
        final dom.SpanElement nrofitems = dom.querySelector(&quot;#nrofitems&quot;);

        void _setNrOfItems() {
            nrofitems.text = items.items.length.toString();
        }
        _setNrOfItems();

        addButton.onClick.listen((_) {
            _logger.info(item.value);
            items.addItem(new ToDoItem(false,&quot;Cnt ${items.incrementalIndex} (${item.value})&quot;));
            _setNrOfItems();
        });

        items.onModelChange.listen((_) =&gt; _setNrOfItems());

    });
}